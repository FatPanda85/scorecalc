<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ´»å‹•ç©åˆ†è©¦ç®—å™¨</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background-color: #1a1a1a;
      color: #f5f5f5;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background-color: #5c0000;
      padding: 15px;
      font-size: 1.5em;
      font-weight: bold;
      color: #fff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    .tab-bar {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background-color: #2e0000;
      padding: 5px;
    }
    .tab-btn {
      flex: 1 0 45%;
      margin: 5px;
      padding: 10px;
      border: none;
      background-color: #4a0000;
      color: white;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.3s;
    }
    .tab-btn.active {
      background-color: #a00000;
    }
    .tab-content {
      display: none;
      padding: 10px;
      animation: fadeIn 0.3s ease-in;
    }
    .tab-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    table {
      width: 95%;
      margin: 10px auto;
      border-collapse: collapse;
      background-color: #2a2a2a;
      border-radius: 10px;
      overflow: hidden;
    }
    th, td {
      padding: 8px;
      border-bottom: 1px solid #444;
    }
    th {
      background-color: #600000;
      color: #fff;
    }
    input, select {
      width: 90%;
      padding: 5px;
      border-radius: 5px;
      border: none;
      text-align: center;
    }
    .total-section {
      margin: 15px auto;
      padding: 10px;
      width: 90%;
      background-color: #2e2e2e;
      border-radius: 10px;
    }
    .btn-reset {
      background-color: #800000;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 10px;
    }
    .btn-reset:hover {
      background-color: #a00000;
    }
  </style>
</head>
<body>
  <header>ğŸ”¥ æ´»å‹•ç©åˆ†è©¦ç®—å™¨ ğŸ”¥</header>

  <div class="tab-bar">
    <button class="tab-btn active" data-tab="tab1">ç¬¬ä¸€æ¬¡è»å‚™ç«¶æ¼”</button>
    <button class="tab-btn" data-tab="tab2">ç¬¬ä¸€æ¬¡å£«å®˜è¨ˆç•«</button>
    <button class="tab-btn" data-tab="tab3">ç¬¬äºŒæ¬¡è»å‚™ç«¶æ¼”</button>
    <button class="tab-btn" data-tab="tab4">ç¬¬äºŒæ¬¡å£«å®˜è¨ˆç•«</button>
    <button class="tab-btn" data-tab="tab5">æ´»å‹•5</button>
    <button class="tab-btn" data-tab="tab6">æ´»å‹•6</button>
    <button class="tab-btn" data-tab="tab7">æ´»å‹•7</button>
    <button class="tab-btn" data-tab="tab8">æ´»å‹•8</button>
    <button class="tab-btn" data-tab="tab9">æ´»å‹•9</button>
    <button class="tab-btn" data-tab="tab10">æ´»å‹•10</button>
    <button class="tab-btn" data-tab="tab11">æ´»å‹•11</button>
    <button class="tab-btn" data-tab="tab12">æ´»å‹•12</button>
  </div>
  <!-- æ´»å‹•1 -->
  <div id="tab1" class="tab-content active">
    <h2>ç¬¬ä¸€æ¬¡è»å‚™ç«¶æ¼”</h2>

    <div class="total-section">
      <label>ç›®å‰ç©åˆ†ï¼š</label>
      <input type="number" id="current1" placeholder="è¼¸å…¥ç›®å‰ç©åˆ†" /><br /><br />
      <label>ç›®æ¨™ç©åˆ†ï¼š</label>
      <input type="number" id="target1" placeholder="è¼¸å…¥ç›®æ¨™ç©åˆ†" />
    </div>

    <table>
      <tr><th>é“å…·åç¨±</th><th>æ•¸é‡</th><th>ç©åˆ†</th></tr>
      <tr><td>ç«æ™¶ (100)</td><td><input type="number" class="qty" data-score="100"></td><td class="subtotal">0</td></tr>
      <tr><td>ç¨€æœ‰è‹±é›„ç¢ç‰‡ (15)</td><td><input type="number" class="qty" data-score="15"></td><td class="subtotal">0</td></tr>
      <tr><td>å²è©©è‹±é›„ç¢ç‰‡ (50)</td><td><input type="number" class="qty" data-score="50"></td><td class="subtotal">0</td></tr>
      <tr><td>å‚³èªªè‹±é›„ç¢ç‰‡ (125)</td><td><input type="number" class="qty" data-score="125"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-å»ºé€  (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-ç ”ç©¶ (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-è¨“ç·´/æ™‰å‡ (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
    </table>

    <div class="total-section">
      <label>ç¸½ç©åˆ†ï¼š</label>
      <span id="total1">0</span><br />
      <label>å·®é¡ç©åˆ†ï¼š</label>
      <span id="diff1">0</span><br />
      <button class="btn-reset" onclick="resetTab(1)">å…¨éƒ¨é‡ç½®</button>
    </div>
  </div>

  <!-- æ´»å‹•2~12ï¼šçµæ§‹ç›¸åŒï¼Œåªæ”¹IDèˆ‡æ¨™é¡Œ -->
  ${[...Array(11)].map((_,i)=>`
  <div id="tab${i+2}" class="tab-content">
    <h2>${i<3 ? ['ç¬¬ä¸€æ¬¡å£«å®˜è¨ˆç•«','ç¬¬äºŒæ¬¡è»å‚™ç«¶æ¼”','ç¬¬äºŒæ¬¡å£«å®˜è¨ˆç•«'][i] : 'æ´»å‹•'+(i+2)}</h2>

    <div class="total-section">
      <label>ç›®å‰ç©åˆ†ï¼š</label>
      <input type="number" id="current${i+2}" placeholder="è¼¸å…¥ç›®å‰ç©åˆ†" /><br /><br />
      <label>ç›®æ¨™ç©åˆ†ï¼š</label>
      <input type="number" id="target${i+2}" placeholder="è¼¸å…¥ç›®æ¨™ç©åˆ†" />
    </div>

    <table>
      <tr><th>é“å…·åç¨±</th><th>æ•¸é‡</th><th>ç©åˆ†</th></tr>
      <tr><td>ç«æ™¶ (100)</td><td><input type="number" class="qty" data-score="100"></td><td class="subtotal">0</td></tr>
      <tr><td>ç¨€æœ‰è‹±é›„ç¢ç‰‡ (15)</td><td><input type="number" class="qty" data-score="15"></td><td class="subtotal">0</td></tr>
      <tr><td>å²è©©è‹±é›„ç¢ç‰‡ (50)</td><td><input type="number" class="qty" data-score="50"></td><td class="subtotal">0</td></tr>
      <tr><td>å‚³èªªè‹±é›„ç¢ç‰‡ (125)</td><td><input type="number" class="qty" data-score="125"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-å»ºé€  (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-ç ”ç©¶ (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
      <tr><td>åŠ é€Ÿ-è¨“ç·´/æ™‰å‡ (1)</td><td><input type="number" class="qty" data-score="1"></td><td class="subtotal">0</td></tr>
    </table>

    <div class="total-section">
      <label>ç¸½ç©åˆ†ï¼š</label>
      <span id="total${i+2}">0</span><br />
      <label>å·®é¡ç©åˆ†ï¼š</label>
      <span id="diff${i+2}">0</span><br />
      <button class="btn-reset" onclick="resetTab(${i+2})">å…¨éƒ¨é‡ç½®</button>
    </div>
  </div>`).join('')}
  <script>
    // ğŸ”¢ æ›´æ–°ç©åˆ†è¨ˆç®—
    function updateScores() {
      document.querySelectorAll('.tab-content').forEach((tab, index) => {
        const id = index + 1;
        let total = 0;

        // è¨ˆç®—æ¯å€‹é“å…·æ•¸é‡ Ã— ç©åˆ†
        tab.querySelectorAll('.qty').forEach((input, i) => {
          const qty = parseInt(input.value) || 0;
          const score = parseInt(input.dataset.score);
          const subtotal = qty * score;
          tab.querySelectorAll('.subtotal')[i].textContent = subtotal.toLocaleString();
          total += subtotal;
        });

        // é¡¯ç¤ºç¸½ç©åˆ†
        const totalSpan = document.getElementById(`total${id}`);
        if (totalSpan) totalSpan.textContent = total.toLocaleString();

        // è¨ˆç®—å·®é¡ï¼ˆç›®æ¨™ - ç›®å‰ - ç¸½ç©åˆ†ï¼‰
        const current = parseInt(document.getElementById(`current${id}`)?.value || 0);
        const target = parseInt(document.getElementById(`target${id}`)?.value || 0);
        const diff = target - (current + total);
        const diffSpan = document.getElementById(`diff${id}`);
        if (diffSpan) diffSpan.textContent = diff.toLocaleString();
      });
    }

    // ğŸ” å…¨éƒ¨é‡ç½®åŠŸèƒ½
    function resetTab(id) {
      const tab = document.getElementById(`tab${id}`);
      if (!tab) return;
      tab.querySelectorAll('input').forEach(input => input.value = '');
      tab.querySelectorAll('.subtotal').forEach(cell => cell.textContent = '0');
      document.getElementById(`total${id}`).textContent = '0';
      document.getElementById(`diff${id}`).textContent = '0';
    }

    // ç›£è½è¼¸å…¥è®Šå‹•ï¼Œè‡ªå‹•æ›´æ–°
    document.addEventListener('input', e => {
      if (e.target.classList.contains('qty') ||
          e.target.id.startsWith('current') ||
          e.target.id.startsWith('target')) {
        updateScores();
      }
    });

    // ğŸ”˜ åˆ†é åˆ‡æ›æ§åˆ¶
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.dataset.tab;

        // æ¸…é™¤æ‰€æœ‰ active ç‹€æ…‹
        tabButtons.forEach(b => b.classList.remove('active'));
        tabContents.forEach(c => c.classList.remove('active'));

        // é¡¯ç¤ºå°æ‡‰åˆ†é 
        btn.classList.add('active');
        document.getElementById(target).classList.add('active');
      });
    });<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>æ´»å‹•ç©åˆ†è©¦ç®—</title>
<style>
  body {
    font-family: "Microsoft JhengHei", sans-serif;
    margin: 0;
    background: #f9fafb;
  }
  header {
    background: #2563eb;
    color: white;
    text-align: center;
    padding: 12px 0;
    font-size: 20px;
    font-weight: bold;
  }
  .tabs {
    display: flex;
    overflow-x: auto;
    background: #1e40af;
  }
  .tabs button {
    flex: 1;
    padding: 10px;
    border: none;
    background: #1e40af;
    color: white;
    font-size: 14px;
    cursor: pointer;
  }
  .tabs button.active {
    background: #3b82f6;
  }
  .tab-content {
    display: none;
    padding: 10px;
  }
  .tab-content.active {
    display: block;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 6px;
    text-align: center;
  }
  th {
    background: #f1f5f9;
  }
  .total-section {
    margin-top: 10px;
    background: #eef2ff;
    padding: 8px;
    border-radius: 8px;
  }
  .btn-reset {
    background: #ef4444;
    color: white;
    border: none;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 5px;
  }
  .btn-reset:hover {
    background: #dc2626;
  }
</style>
</head>
<body>

<header>æ´»å‹•ç©åˆ†è©¦ç®—</header>
<div class="tabs" id="tabs"></div>
<div id="tabContainer"></div>

<script>
// === æ´»å‹•åç¨± ===
const activities = [
  "ç¬¬ä¸€æ¬¡è»å‚™ç«¶æ¼”",
  "ç¬¬ä¸€æ¬¡å£«å®˜è¨ˆç•«",
  "ç¬¬äºŒæ¬¡è»å‚™ç«¶æ¼”",
  "ç¬¬äºŒæ¬¡å£«å®˜è¨ˆç•«",
  "ç¬¬ä¸‰æ¬¡è»å‚™ç«¶æ¼”",
  "ç¬¬ä¸‰æ¬¡å£«å®˜è¨ˆç•«",
  "ç¬¬å››æ¬¡è»å‚™ç«¶æ¼”",
  "ç¬¬å››æ¬¡å£«å®˜è¨ˆç•«",
  "ç¬¬äº”æ¬¡è»å‚™ç«¶æ¼”",
  "æ´»å‹•1",
  "æ´»å‹•2",
  "æ´»å‹•3"
];

// === è£å‚™é¸é … ===
const equips = [
  ["è‰¯å¥½", 1125],
  ["è‰¯å¥½1æ˜Ÿ", 1875],
  ["ç¨€æœ‰", 3000],
  ["ç¨€æœ‰1æ˜Ÿ", 4500],
  ["å²è©©", 3230],
  ["å²è©©T1", 3440],
  ["å‚³èªª", 6250],
  ["ç¥è©±", 2600],
  ["ç¥è©±T4-3æ˜Ÿ", 3090],
];

// === é“å…·è³‡æ–™ ===
const items = [
  ["ç«æ™¶", 100],
  ["ç¨€æœ‰è‹±é›„ç¢ç‰‡", 15],
  ["å²è©©è‹±é›„ç¢ç‰‡", 50],
  ["å‚³èªªè‹±é›„ç¢ç‰‡", 125],
  ["åŠ é€Ÿ-å»ºé€ ", 1],
  ["åŠ é€Ÿ-ç ”ç©¶", 1],
  ["åŠ é€Ÿ-è¨“ç·´/æ™‰å‡", 1]
];

// === å‹•æ…‹å»ºç«‹é é¢ ===
const tabsDiv = document.getElementById("tabs");
const tabContainer = document.getElementById("tabContainer");

activities.forEach((name, idx) => {
  const id = idx + 1;

  // å»ºç«‹åˆ†é æŒ‰éˆ•
  const btn = document.createElement("button");
  btn.textContent = name;
  btn.onclick = () => switchTab(id);
  if (id === 1) btn.classList.add("active");
  tabsDiv.appendChild(btn);

  // å»ºç«‹åˆ†é å…§å®¹
  const div = document.createElement("div");
  div.id = "tab" + id;
  div.className = "tab-content" + (id === 1 ? " active" : "");

  // === å…§å®¹HTML ===
  div.innerHTML = `
    <h2>${name}</h2>
    <div class="total-section">
      <label>ç›®æ¨™ç©åˆ†ï¼š</label>
      <input type="number" id="target${id}" placeholder="è¼¸å…¥ç›®æ¨™ç©åˆ†" />
    </div>
    <h3>è£å‚™é¸é …ï¼ˆÃ—3å€ç©åˆ†ï¼‰</h3>
    <table>
      <tr><th>è£å‚™</th><th>é¸æ“‡</th><th>ç©åˆ†</th></tr>
      ${[1,2,3,4].map(i => `
        <tr>
          <td>è£å‚™${i}</td>
          <td>
            <select class="equip" data-tab="${id}">
              <option value="0">è«‹é¸æ“‡è£å‚™</option>
              ${equips.map(([name, score]) => 
                `<option value="${score}">${name} (${score})</option>`).join('')}
            </select>
          </td>
          <td class="equip-total">0</td>
        </tr>`).join("")}
    </table>

    <h3>é“å…·</h3>
    <table>
      <tr><th>é“å…·åç¨±</th><th>æ•¸é‡</th><th>ç©åˆ†</th></tr>
      ${items.map(([item, score]) => `
        <tr>
          <td>${item}</td>
          <td><input type="number" class="qty" data-tab="${id}" data-score="${score}" value="0" min="0"></td>
          <td class="subtotal">0</td>
        </tr>`).join("")}
    </table>

    <div class="total-section">
      <label>ç¸½ç©åˆ†ï¼š</label><span id="total${id}">0</span><br/>
      <label>å·®é¡ç©åˆ†ï¼š</label><span id="diff${id}">0</span><br/>
      <button class="btn-reset" onclick="resetTab(${id})">å…¨éƒ¨é‡ç½®</button>
    </div>
  `;
  tabContainer.appendChild(div);
});

// === åˆ‡æ›åˆ†é  ===
function switchTab(n) {
  document.querySelectorAll(".tabs button").forEach((btn, i) => {
    btn.classList.toggle("active", i === n - 1);
  });
  document.querySelectorAll(".tab-content").forEach((div, i) => {
    div.classList.toggle("active", i === n - 1);
  });
}

// === è¨ˆç®—ç©åˆ† ===
document.addEventListener("input", (e) => {
  const tab = e.target.closest(".tab-content");
  if (!tab) return;
  const tabId = tab.id.replace("tab", "");
  updateTab(tabId);
});
document.addEventListener("change", (e) => {
  const tab = e.target.closest(".tab-content");
  if (!tab) return;
  const tabId = tab.id.replace("tab", "");
  updateTab(tabId);
});

function updateTab(tabId) {
  let total = 0;

  // è£å‚™ç©åˆ†
  document.querySelectorAll(`#tab${tabId} .equip`).forEach(sel => {
    const val = Number(sel.value);
    const subtotal = val * 3;
    sel.parentElement.nextElementSibling.textContent = subtotal;
    total += subtotal;
  });

  // é“å…·ç©åˆ†
  document.querySelectorAll(`#tab${tabId} .qty`).forEach(input => {
    const qty = Number(input.value) || 0;
    const score = Number(input.dataset.score);
    const subtotal = qty * score * 1;
    input.parentElement.nextElementSibling.textContent = subtotal;
    total += subtotal;
  });

  document.getElementById(`total${tabId}`).textContent = total;

  const target = Number(document.getElementById(`target${tabId}`).value) || 0;
  const diff = Math.max(target - total, 0);
  document.getElementById(`diff${tabId}`).textContent = diff;
}

// === é‡ç½®åŠŸèƒ½ ===
function resetTab(id) {
  document.querySelectorAll(`#tab${id} .qty`).forEach(input => input.value = 0);
  document.querySelectorAll(`#tab${id} .subtotal, #tab${id} .equip-total`).forEach(td => td.textContent = 0);
  document.querySelectorAll(`#tab${id} .equip`).forEach(sel => sel.value = 0);
  document.getElementById(`target${id}`).value = "";
  document.getElementById(`total${id}`).textContent = "0";
  document.getElementById(`diff${id}`).textContent = "0";
}
</script>

</body>
</html>

  </script>
</body>
</html>


