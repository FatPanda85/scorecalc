<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>活動積分試算</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background:#121212; color:white; margin:0; padding:1rem; }
h2 { text-align:center; color:#ffd700; }
.container { max-width:700px; margin:auto; }
table { width:100%; border-collapse:collapse; margin-top:1rem; }
th, td { border:1px solid #444; padding:0.5rem; text-align:center; }
select, input { width:100%; padding:0.4rem; border-radius:6px; border:none; }
button { width:100%; margin-top:10px; padding:10px; background:#ffd700; color:black; border:none; border-radius:8px; font-weight:bold; }
.total { font-size:1.2rem; text-align:right; margin-top:1rem; }
.tabs { display:flex; justify-content:space-around; background:#333; border-radius:8px; overflow:hidden; margin-bottom:1rem; }
.tab { flex:1; padding:10px; text-align:center; cursor:pointer; background:#333; color:white; }
.tab.active { background:#ffd700; color:black; }
</style>
</head>
<body>
<div class="container">
  <h2>活動積分試算</h2>
  <div class="tabs">
    <div class="tab active">第一次軍備競演</div>
    <div class="tab">第一次士官計畫</div>
    <div class="tab">第二次軍備競演</div>
    <div class="tab">第二次士官計畫</div>
  </div>

  <label>目標積分：</label>
  <input type="number" id="targetPoints" value="0">

  <table>
    <thead><tr><th>裝備名稱</th><th>數量</th><th>積分</th></tr></thead>
    <tbody id="equipmentTable">
      <tr>
        <td>
          <select class="equip">
            <option value="0">請選擇裝備</option>
            <option value="1125">良好</option>
            <option value="1875">良好1星</option>
            <option value="3000">稀有</option>
            <option value="4500">稀有1星</option>
            <option value="5100">稀有2星</option>
            <option value="5400">稀有3星</option>
          </select>
        </td>
        <td><input type="number" class="equipQty" value="0"></td>
        <td class="equipScore">0</td>
      </tr>
    </tbody>
  </table>

  <table>
    <thead><tr><th>道具名稱</th><th>數量</th><th>積分</th></tr></thead>
    <tbody id="itemTable">
      <tr><td>火晶 (100)</td><td><input type="number" class="itemQty" data-point="100" value="0"></td><td class="itemScore">0</td></tr>
      <tr><td>稀有英雄碎片 (15)</td><td><input type="number" class="itemQty" data-point="15" value="0"></td><td class="itemScore">0</td></tr>
      <tr><td>史詩英雄碎片 (50)</td><td><input type="number" class="itemQty" data-point="50" value="0"></td><td class="itemScore">0</td></tr>
      <tr><td>傳說英雄碎片 (125)</td><td><input type="number" class="itemQty" data-point="125" value="0"></td><td class="itemScore">0</td></tr>
    </tbody>
  </table>

  <div class="total">
    <p>總積分：<span id="totalScore">0</span></p>
    <p>積分差額：<span id="diffScore">0</span></p>
  </div>

  <button onclick="resetAll()">全部重置</button>
</div>

<script>
function calc() {
  let total = 0;

  document.querySelectorAll('.equip').forEach((sel, i) => {
    let val = parseInt(sel.value) || 0;
    let qty = parseInt(document.querySelectorAll('.equipQty')[i].value) || 0;
    let score = val * 3 * qty;
    document.querySelectorAll('.equipScore')[i].innerText = score;
    total += score;
  });

  document.querySelectorAll('.itemQty').forEach((input, i) => {
    let val = parseInt(input.dataset.point) || 0;
    let qty = parseInt(input.value) || 0;
    let score = val * qty;
    document.querySelectorAll('.itemScore')[i].innerText = score;
    total += score;
  });

  let target = parseInt(document.getElementById('targetPoints').value) || 0;
  document.getElementById('totalScore').innerText = total;
  document.getElementById('diffScore').innerText = total - target;
}
function resetAll(){
  document.querySelectorAll('input').forEach(i=>i.value=0);
  document.querySelectorAll('select').forEach(s=>s.selectedIndex=0);
  calc();
}
document.querySelectorAll('input, select').forEach(e=>e.addEventListener('input',calc));
calc();
</script>
</body>
</html>

