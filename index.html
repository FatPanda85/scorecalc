<script>
// === ğŸ§­ æ´»å‹•è³‡æ–™è¨­å®šå€ ===
const soldierLevels = {
  1: 1, 2: 2, 3: 3, 4: 4,
  5: 6, 6: 9, 7: 12, 8: 17, 9: 22, 10: 30
};

const activitiesData = [
  {
    name: "11/10ç¬¬ä¸€æ¬¡è»å‚™ç«¶æ¼”",
    equips: [
      ["è‰¯å¥½", 1125], ["è‰¯å¥½1æ˜Ÿ", 1875],
      ["ç¨€æœ‰", 3000], ["ç¨€æœ‰1æ˜Ÿ", 4500],["ç¨€æœ‰2æ˜Ÿ", 5100],["ç¨€æœ‰3æ˜Ÿ", 5400],
      ["å²è©©", 3230], ["å²è©©1æ˜Ÿ", 3230],["å²è©©2æ˜Ÿ", 3225],["å²è©©3æ˜Ÿ", 3225],["å²è©©", 3230],["å²è©©T1", 3440],["å²è©©T1-1æ˜Ÿ", 3440],["å²è©©T1-2æ˜Ÿ", 4085],["å²è©©T1-3æ˜Ÿ", 4085],
      ["å‚³èªª", 6250],["å‚³èªª1æ˜Ÿ", 6250],["å‚³èªª2æ˜Ÿ", 6250],["å‚³èªª3æ˜Ÿ", 6250],["å‚³èªªT1", 6250],["å‚³èªªT1-1æ˜Ÿ", 6250],["å‚³èªªT1-2æ˜Ÿ", 6250],["å‚³èªªT1-3æ˜Ÿ", 6250],["å‚³èªªT2", 6250],
      ["å‚³èªªT2-1æ˜Ÿ", 6250], ["å‚³èªªT2-2æ˜Ÿ", 6250], ["å‚³èªªT2-3æ˜Ÿ", 6250],["å‚³èªªT2-3æ˜Ÿ-1éš", 2320],["å‚³èªªT2-3æ˜Ÿ-2éš", 2320],["å‚³èªªT2-3æ˜Ÿ-3éš", 2320],
      ["ç¥è©±", 2600], ["ç¥è©±1éš", 2320],  ["ç¥è©±2éš", 2320], ["ç¥è©±3éš", 2320], ["ç¥è©±1æ˜Ÿ", 2600], ["ç¥è©±1æ˜Ÿ1éš", 2310], ["ç¥è©±1æ˜Ÿ2éš", 2310], ["ç¥è©±1æ˜Ÿ3éš", 2310], 
      ["ç¥è©±2æ˜Ÿ", 2630], ["ç¥è©±2æ˜Ÿ1éš", 2330], ["ç¥è©±2æ˜Ÿ2éš", 2330], ["ç¥è©±2æ˜Ÿ3éš", 2330], ["ç¥è©±3æ˜Ÿ", 2570], ["ç¥è©±3æ˜Ÿ1éš", 2300], ["ç¥è©±3æ˜Ÿ2éš", 2300], 
      ["ç¥è©±3æ˜Ÿ3éš", 2300], ["ç¥è©±T1", 2600], ["ç¥è©±T1-1éš", 2300], ["ç¥è©±T1-2éš", 2300], ["ç¥è©±T1-3éš", 2300], ["ç¥è©±T1-1æ˜Ÿ", 2660], ["ç¥è©±T1-1æ˜Ÿ1éš", 2320], 
      ["ç¥è©±T1-1æ˜Ÿ2éš", 2320], ["ç¥è©±T1-1æ˜Ÿ3éš", 2320], ["ç¥è©±T1-2æ˜Ÿ", 2600], ["ç¥è©±T1-2æ˜Ÿ1éš", 2320], ["ç¥è©±T1-2æ˜Ÿ2éš", 2320], ["ç¥è©±T1-2æ˜Ÿ3éš", 2320], 
      ["ç¥è©±T1-3æ˜Ÿ", 2600],  ["ç¥è©±T1-3æ˜Ÿ1éš", 2370], ["ç¥è©±T1-3æ˜Ÿ2éš", 2370], ["ç¥è©±T1-3æ˜Ÿ3éš", 2370], ["ç¥è©±T2", 2450], 
      ["ç¥è©±T2-1éš", 2390], ["ç¥è©±T2-2éš", 2390],["ç¥è©±T2-3éš", 2390],["ç¥è©±T2-1æ˜Ÿ", 2390],["ç¥è©±T2-1æ˜Ÿ1éš", 2380],["ç¥è©±T2-1æ˜Ÿ2éš", 2380],["ç¥è©±T2-1æ˜Ÿ3éš", 2380],
      ["ç¥è©±T2-2æ˜Ÿ", 2420],["ç¥è©±T2-2æ˜Ÿ1éš", 2380],["ç¥è©±T2-2æ˜Ÿ2éš", 2380],["ç¥è©±T2-2æ˜Ÿ3éš", 2380],["ç¥è©±T2-3æ˜Ÿ", 2420],["ç¥è©±T2-3æ˜Ÿ1éš", 2370],["ç¥è©±T2-3æ˜Ÿ2éš", 2370],["ç¥è©±T2-3æ˜Ÿ3éš", 2370],
      ["ç¥è©±T3", 2450],["ç¥è©±T3-1éš", 2360],["ç¥è©±T3-2éš", 2360],["ç¥è©±T3-3éš", 2360],["ç¥è©±T3-1æ˜Ÿ", 2480],["ç¥è©±T3-1æ˜Ÿ1éš", 2360],["ç¥è©±T3-1æ˜Ÿ2éš", 2360],["ç¥è©±T3-1æ˜Ÿ3éš", 2360],
      ["ç¥è©±T3-2æ˜Ÿ", 2480],["ç¥è©±T3-2æ˜Ÿ1éš", 2370],["ç¥è©±T3-2æ˜Ÿ2éš", 2370],["ç¥è©±T3-2æ˜Ÿ3éš", 2370],["ç¥è©±T3-3æ˜Ÿ", 2450],["ç¥è©±T3-3æ˜Ÿ1éš", 3190],["ç¥è©±T3-3æ˜Ÿ2éš", 3090],["ç¥è©±T3-3æ˜Ÿ3éš", 3090],
      ["ç¥è©±T3-3æ˜Ÿ4éš", 3100],["ç¥è©±T4", 3090],["ç¥è©±T4-1éš", 3020],["ç¥è©±T4-2éš", 31000],["ç¥è©±T4-3éš", 3090],["ç¥è©±T4-4éš", 3100],["ç¥è©±T4-1æ˜Ÿ", 3090],
      ["ç¥è©±T4-1æ˜Ÿ1éš", 3020],["ç¥è©±T4-1æ˜Ÿ2éš", 3090],["ç¥è©±T4-1æ˜Ÿ3éš", 3100],["ç¥è©±T4-1æ˜Ÿ4éš", 3090],["ç¥è©±T4-2æ˜Ÿ", 3100],["ç¥è©±T4-2æ˜Ÿ1éš", 3010],["ç¥è©±T4-2æ˜Ÿ2éš", 3100],["ç¥è©±T4-2æ˜Ÿ3éš", 3090],["ç¥è©±T4-2æ˜Ÿ4éš", 3100],
      ["ç¥è©±T4-3æ˜Ÿ", 3090]
    ],
    items: [
      ["æ¶ˆè€—1å€‹ç«æ™¶æå‡å»ºç¯‰ç­‰ç´š(100)", 100],
      ["æ¶ˆè€—1å€‹ç¨€æœ‰è‹±é›„ç¢ç‰‡(15)", 15],
      ["æ¶ˆè€—1å€‹å²è©©è‹±é›„ç¢ç‰‡(50)", 50],
      ["æ¶ˆè€—1å€‹å‚³èªªè‹±é›„ç¢ç‰‡(125)", 125],
      ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œå»ºé€ (1)", 1],
      ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œç ”ç©¶(1)", 1],
      ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œå£«å…µè¨“ç·´ã€å£«å…µæ™‰å‡(1ç©åˆ†)", 1]
    ]
  },
  {
    name: "11/12ç¬¬ä¸€æ¬¡å£«å®˜è¨ˆç•«",
    equips: [],
    items: [
      ["é ˜ä¸»å¯¶çŸ³æœ€é«˜è©•åˆ†æå‡1é»(70)", 70],
      ["æ¶ˆè€—1å€‹è‹±é›„è£å‚™å°ˆç²¾èƒ½æºçŸ³(6000)", 6000],
      ["æ¶ˆè€—1å€‹ä»»æ„è‹±é›„å°ˆå±¬è£å‚™å°æ‡‰çš„é›¶ä»¶(12,000)", 12000],
      ["æ¶ˆè€—1å€‹ç§˜éŠ€(216,000)", 216000],
      ["è¨“ç·´1ä½1ç´šå£«å…µ(1)", 1],
      ["è¨“ç·´1ä½2ç´šå£«å…µ(2)", 2],
      ["è¨“ç·´1ä½3ç´šå£«å…µ(3)", 3],
      ["è¨“ç·´1ä½4ç´šå£«å…µ(4)", 4],
      ["è¨“ç·´1ä½5ç´šå£«å…µ(6)", 6],
      ["è¨“ç·´1ä½6ç´šå£«å…µ(9)", 9],
      ["è¨“ç·´1ä½7ç´šå£«å…µ(12)", 12],
      ["è¨“ç·´1ä½8ç´šå£«å…µ(17)", 17],
      ["è¨“ç·´1ä½9ç´šå£«å…µ(22)", 9],
      ["è¨“ç·´1ä½10ç´šå£«å…µ(30)", 30],
      ["è¨“ç·´1ä½11ç´šå£«å…µ(37)", 37],
      // ğŸ”¥ ç‰¹æ®Šçš„ã€Œæ™‰å‡å£«å…µã€é …ç›®ï¼Œé€™è¡Œæœƒç”¢ç”Ÿç‰¹æ®Šè¼¸å…¥å€
      ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œå£«å…µè¨“ç·´ã€å£«å…µæ™‰å‡(1ç©åˆ†)", "promotion"]
    ]
  },
  {
    name: "11/14ç¬¬äºŒæ¬¡è»å‚™ç«¶æ¼”",
    equips: [
      ["è‰¯å¥½", 1125], ["è‰¯å¥½1æ˜Ÿ", 1875],
      ["ç¨€æœ‰", 3000], ["ç¨€æœ‰1æ˜Ÿ", 4500],["ç¨€æœ‰2æ˜Ÿ", 5100],["ç¨€æœ‰3æ˜Ÿ", 5400],
      ["å²è©©", 3230], ["å²è©©1æ˜Ÿ", 3230],["å²è©©2æ˜Ÿ", 3225],["å²è©©3æ˜Ÿ", 3225],["å²è©©", 3230],["å²è©©T1", 3440],["å²è©©T1-1æ˜Ÿ", 3440],["å²è©©T1-2æ˜Ÿ", 4085],["å²è©©T1-3æ˜Ÿ", 4085],
      ["å‚³èªª", 6250],["å‚³èªª1æ˜Ÿ", 6250],["å‚³èªª2æ˜Ÿ", 6250],["å‚³èªª3æ˜Ÿ", 6250],["å‚³èªªT1", 6250],["å‚³èªªT1-1æ˜Ÿ", 6250],["å‚³èªªT1-2æ˜Ÿ", 6250],["å‚³èªªT1-3æ˜Ÿ", 6250],["å‚³èªªT2", 6250],
      ["å‚³èªªT2-1æ˜Ÿ", 6250], ["å‚³èªªT2-2æ˜Ÿ", 6250], ["å‚³èªªT2-3æ˜Ÿ", 6250],["å‚³èªªT2-3æ˜Ÿ-1éš", 2320],["å‚³èªªT2-3æ˜Ÿ-2éš", 2320],["å‚³èªªT2-3æ˜Ÿ-3éš", 2320],
      ["ç¥è©±", 2600], ["ç¥è©±1éš", 2320],  ["ç¥è©±2éš", 2320], ["ç¥è©±3éš", 2320], ["ç¥è©±1æ˜Ÿ", 2600], ["ç¥è©±1æ˜Ÿ1éš", 2310], ["ç¥è©±1æ˜Ÿ2éš", 2310], ["ç¥è©±1æ˜Ÿ3éš", 2310], 
      ["ç¥è©±2æ˜Ÿ", 2630], ["ç¥è©±2æ˜Ÿ1éš", 2330], ["ç¥è©±2æ˜Ÿ2éš", 2330], ["ç¥è©±2æ˜Ÿ3éš", 2330], ["ç¥è©±3æ˜Ÿ", 2570], ["ç¥è©±3æ˜Ÿ1éš", 2300], ["ç¥è©±3æ˜Ÿ2éš", 2300], 
      ["ç¥è©±3æ˜Ÿ3éš", 2300], ["ç¥è©±T1", 2600], ["ç¥è©±T1-1éš", 2300], ["ç¥è©±T1-2éš", 2300], ["ç¥è©±T1-3éš", 2300], ["ç¥è©±T1-1æ˜Ÿ", 2660], ["ç¥è©±T1-1æ˜Ÿ1éš", 2320], 
      ["ç¥è©±T1-1æ˜Ÿ2éš", 2320], ["ç¥è©±T1-1æ˜Ÿ3éš", 2320], ["ç¥è©±T1-2æ˜Ÿ", 2600], ["ç¥è©±T1-2æ˜Ÿ1éš", 2320], ["ç¥è©±T1-2æ˜Ÿ2éš", 2320], ["ç¥è©±T1-2æ˜Ÿ3éš", 2320], 
      ["ç¥è©±T1-3æ˜Ÿ", 2600],  ["ç¥è©±T1-3æ˜Ÿ1éš", 2370], ["ç¥è©±T1-3æ˜Ÿ2éš", 2370], ["ç¥è©±T1-3æ˜Ÿ3éš", 2370], ["ç¥è©±T2", 2450], 
      ["ç¥è©±T2-1éš", 2390], ["ç¥è©±T2-2éš", 2390],["ç¥è©±T2-3éš", 2390],["ç¥è©±T2-1æ˜Ÿ", 2390],["ç¥è©±T2-1æ˜Ÿ1éš", 2380],["ç¥è©±T2-1æ˜Ÿ2éš", 2380],["ç¥è©±T2-1æ˜Ÿ3éš", 2380],
      ["ç¥è©±T2-2æ˜Ÿ", 2420],["ç¥è©±T2-2æ˜Ÿ1éš", 2380],["ç¥è©±T2-2æ˜Ÿ2éš", 2380],["ç¥è©±T2-2æ˜Ÿ3éš", 2380],["ç¥è©±T2-3æ˜Ÿ", 2420],["ç¥è©±T2-3æ˜Ÿ1éš", 2370],["ç¥è©±T2-3æ˜Ÿ2éš", 2370],["ç¥è©±T2-3æ˜Ÿ3éš", 2370],
      ["ç¥è©±T3", 2450],["ç¥è©±T3-1éš", 2360],["ç¥è©±T3-2éš", 2360],["ç¥è©±T3-3éš", 2360],["ç¥è©±T3-1æ˜Ÿ", 2480],["ç¥è©±T3-1æ˜Ÿ1éš", 2360],["ç¥è©±T3-1æ˜Ÿ2éš", 2360],["ç¥è©±T3-1æ˜Ÿ3éš", 2360],
      ["ç¥è©±T3-2æ˜Ÿ", 2480],["ç¥è©±T3-2æ˜Ÿ1éš", 2370],["ç¥è©±T3-2æ˜Ÿ2éš", 2370],["ç¥è©±T3-2æ˜Ÿ3éš", 2370],["ç¥è©±T3-3æ˜Ÿ", 2450],["ç¥è©±T3-3æ˜Ÿ1éš", 3190],["ç¥è©±T3-3æ˜Ÿ2éš", 3090],["ç¥è©±T3-3æ˜Ÿ3éš", 3090],
      ["ç¥è©±T3-3æ˜Ÿ4éš", 3100],["ç¥è©±T4", 3090],["ç¥è©±T4-1éš", 3020],["ç¥è©±T4-2éš", 31000],["ç¥è©±T4-3éš", 3090],["ç¥è©±T4-4éš", 3100],["ç¥è©±T4-1æ˜Ÿ", 3090],
      ["ç¥è©±T4-1æ˜Ÿ1éš", 3020],["ç¥è©±T4-1æ˜Ÿ2éš", 3090],["ç¥è©±T4-1æ˜Ÿ3éš", 3100],["ç¥è©±T4-1æ˜Ÿ4éš", 3090],["ç¥è©±T4-2æ˜Ÿ", 3100],["ç¥è©±T4-2æ˜Ÿ1éš", 3010],["ç¥è©±T4-2æ˜Ÿ2éš", 3100],["ç¥è©±T4-2æ˜Ÿ3éš", 3090],["ç¥è©±T4-2æ˜Ÿ4éš", 3100],
      ["ç¥è©±T4-3æ˜Ÿ", 3090]
    ],
    items: [  
    ["æ¶ˆè€—1å€‹ç«æ™¶æå‡å»ºç¯‰ç­‰ç´š(100)", 100],
    ["æ¶ˆè€—1åˆ†é˜çš„åŠ é€Ÿå­¸ç¿’å°ˆå®¶æŠ€èƒ½(1)", 1],
    ["æ¶ˆè€—1å€‹ç«æ™¶å¾®ç²’é€²è¡Œç§‘æŠ€ç ”ç©¶(50)", 50],
    ["æ¶ˆè€—1å€‹ç²¾ç…‰ç«æ™¶æå‡å»ºç¯‰ç­‰ç´š(1000)", 1000],
    ["æ¶ˆè€—1å€‹ç§˜éŠ€(28,800)", 28800],
    ["æ¶ˆè€—1å€‹è‹±é›„è£å‚™å°ˆç²¾èƒ½æºçŸ³(800)", 800],
    ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œå»ºé€ (1)", 1],
    ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œç ”ç©¶(1)", 1],
    ["æ¶ˆè€—1åˆ†é˜åŠ é€Ÿé€²è¡Œå£«å…µè¨“ç·´ã€å£«å…µæ™‰å‡(1)", 1],
    ["æ¶ˆè€—1å€‹ä»»æ„è‹±é›„å°ˆå±¬è£å‚™å°æ‡‰çš„é›¶ä»¶(å°ˆæ­¦)(1600)", 1600]]
  },
  {
    name: "11/16ç¬¬äºŒæ¬¡å£«å®˜è¨ˆç•«",
    equips: [
      ["è‰¯å¥½", 1125], ["è‰¯å¥½1æ˜Ÿ", 1875],
      ["ç¨€æœ‰", 3000], ["ç¨€æœ‰1æ˜Ÿ", 4500],["ç¨€æœ‰2æ˜Ÿ", 5100],["ç¨€æœ‰3æ˜Ÿ", 5400],
      ["å²è©©", 3230], ["å²è©©1æ˜Ÿ", 3230],["å²è©©2æ˜Ÿ", 3225],["å²è©©3æ˜Ÿ", 3225],["å²è©©", 3230],["å²è©©T1", 3440],["å²è©©T1-1æ˜Ÿ", 3440],["å²è©©T1-2æ˜Ÿ", 4085],["å²è©©T1-3æ˜Ÿ", 4085],
      ["å‚³èªª", 6250],["å‚³èªª1æ˜Ÿ", 6250],["å‚³èªª2æ˜Ÿ", 6250],["å‚³èªª3æ˜Ÿ", 6250],["å‚³èªªT1", 6250],["å‚³èªªT1-1æ˜Ÿ", 6250],["å‚³èªªT1-2æ˜Ÿ", 6250],["å‚³èªªT1-3æ˜Ÿ", 6250],["å‚³èªªT2", 6250],
      ["å‚³èªªT2-1æ˜Ÿ", 6250], ["å‚³èªªT2-2æ˜Ÿ", 6250], ["å‚³èªªT2-3æ˜Ÿ", 6250],["å‚³èªªT2-3æ˜Ÿ-1éš", 2320],["å‚³èªªT2-3æ˜Ÿ-2éš", 2320],["å‚³èªªT2-3æ˜Ÿ-3éš", 2320],
      ["ç¥è©±", 2600], ["ç¥è©±1éš", 2320],  ["ç¥è©±2éš", 2320], ["ç¥è©±3éš", 2320], ["ç¥è©±1æ˜Ÿ", 2600], ["ç¥è©±1æ˜Ÿ1éš", 2310], ["ç¥è©±1æ˜Ÿ2éš", 2310], ["ç¥è©±1æ˜Ÿ3éš", 2310], 
      ["ç¥è©±2æ˜Ÿ", 2630], ["ç¥è©±2æ˜Ÿ1éš", 2330], ["ç¥è©±2æ˜Ÿ2éš", 2330], ["ç¥è©±2æ˜Ÿ3éš", 2330], ["ç¥è©±3æ˜Ÿ", 2570], ["ç¥è©±3æ˜Ÿ1éš", 2300], ["ç¥è©±3æ˜Ÿ2éš", 2300], 
      ["ç¥è©±3æ˜Ÿ3éš", 2300], ["ç¥è©±T1", 2600], ["ç¥è©±T1-1éš", 2300], ["ç¥è©±T1-2éš", 2300], ["ç¥è©±T1-3éš", 2300], ["ç¥è©±T1-1æ˜Ÿ", 2660], ["ç¥è©±T1-1æ˜Ÿ1éš", 2320], 
      ["ç¥è©±T1-1æ˜Ÿ2éš", 2320], ["ç¥è©±T1-1æ˜Ÿ3éš", 2320], ["ç¥è©±T1-2æ˜Ÿ", 2600], ["ç¥è©±T1-2æ˜Ÿ1éš", 2320], ["ç¥è©±T1-2æ˜Ÿ2éš", 2320], ["ç¥è©±T1-2æ˜Ÿ3éš", 2320], 
      ["ç¥è©±T1-3æ˜Ÿ", 2600],  ["ç¥è©±T1-3æ˜Ÿ1éš", 2370], ["ç¥è©±T1-3æ˜Ÿ2éš", 2370], ["ç¥è©±T1-3æ˜Ÿ3éš", 2370], ["ç¥è©±T2", 2450], 
      ["ç¥è©±T2-1éš", 2390], ["ç¥è©±T2-2éš", 2390],["ç¥è©±T2-3éš", 2390],["ç¥è©±T2-1æ˜Ÿ", 2390],["ç¥è©±T2-1æ˜Ÿ1éš", 2380],["ç¥è©±T2-1æ˜Ÿ2éš", 2380],["ç¥è©±T2-1æ˜Ÿ3éš", 2380],
      ["ç¥è©±T2-2æ˜Ÿ", 2420],["ç¥è©±T2-2æ˜Ÿ1éš", 2380],["ç¥è©±T2-2æ˜Ÿ2éš", 2380],["ç¥è©±T2-2æ˜Ÿ3éš", 2380],["ç¥è©±T2-3æ˜Ÿ", 2420],["ç¥è©±T2-3æ˜Ÿ1éš", 2370],["ç¥è©±T2-3æ˜Ÿ2éš", 2370],["ç¥è©±T2-3æ˜Ÿ3éš", 2370],
      ["ç¥è©±T3", 2450],["ç¥è©±T3-1éš", 2360],["ç¥è©±T3-2éš", 2360],["ç¥è©±T3-3éš", 2360],["ç¥è©±T3-1æ˜Ÿ", 2480],["ç¥è©±T3-1æ˜Ÿ1éš", 2360],["ç¥è©±T3-1æ˜Ÿ2éš", 2360],["ç¥è©±T3-1æ˜Ÿ3éš", 2360],
      ["ç¥è©±T3-2æ˜Ÿ", 2480],["ç¥è©±T3-2æ˜Ÿ1éš", 2370],["ç¥è©±T3-2æ˜Ÿ2éš", 2370],["ç¥è©±T3-2æ˜Ÿ3éš", 2370],["ç¥è©±T3-3æ˜Ÿ", 2450],["ç¥è©±T3-3æ˜Ÿ1éš", 3190],["ç¥è©±T3-3æ˜Ÿ2éš", 3090],["ç¥è©±T3-3æ˜Ÿ3éš", 3090],
      ["ç¥è©±T3-3æ˜Ÿ4éš", 3100],["ç¥è©±T4", 3090],["ç¥è©±T4-1éš", 3020],["ç¥è©±T4-2éš", 31000],["ç¥è©±T4-3éš", 3090],["ç¥è©±T4-4éš", 3100],["ç¥è©±T4-1æ˜Ÿ", 3090],
      ["ç¥è©±T4-1æ˜Ÿ1éš", 3020],["ç¥è©±T4-1æ˜Ÿ2éš", 3090],["ç¥è©±T4-1æ˜Ÿ3éš", 3100],["ç¥è©±T4-1æ˜Ÿ4éš", 3090],["ç¥è©±T4-2æ˜Ÿ", 3100],["ç¥è©±T4-2æ˜Ÿ1éš", 3010],["ç¥è©±T4-2æ˜Ÿ2éš", 3100],["ç¥è©±T4-2æ˜Ÿ3éš", 3090],["ç¥è©±T4-2æ˜Ÿ4éš", 3100],
      ["ç¥è©±T4-3æ˜Ÿ", 3090]
    ],
    items: [
      ["æ¶ˆè€—1å€‹ç«æ™¶æå‡å»ºç¯‰ç­‰ç´š(100)", 100],
      ["æ¶ˆè€—1å€‹ç¨€æœ‰è‹±é›„ç¢ç‰‡(350)", 350],
      ["æ¶ˆè€—1å€‹å²è©©è‹±é›„ç¢ç‰‡(1,220)", 1220],
      ["æ¶ˆè€—1å€‹å‚³èªªè‹±é›„ç¢ç‰‡(3,040)", 3040],
      ["æ¶ˆè€—1å€‹è‹±é›„è£å‚™å°ˆç²¾èƒ½æºçŸ³(6,000)", 6000],
      ["æ¶ˆè€—1å€‹ä»»æ„è‹±é›„å°ˆå±¬è£å‚™å°æ‡‰çš„é›¶ä»¶(12,000)", 12000],
      ["æ¶ˆè€—1å€‹ç§˜éŠ€(216,000)", 216000]
    ]
  }
];

// === å‹•æ…‹å»ºç«‹é é¢ ===
const tabsDiv = document.getElementById("tabs");
const tabContainer = document.getElementById("tabContainer");

activitiesData.forEach((activity, idx) => {
  const id = idx + 1;
  const { name, equips, items } = activity;

  const btn = document.createElement("button");
  btn.textContent = name;
  btn.onclick = () => switchTab(id);
  if (id === 1) btn.classList.add("active");
  tabsDiv.appendChild(btn);

  const div = document.createElement("div");
  div.id = "tab" + id;
  div.className = "tab-content" + (id === 1 ? " active" : "");

  div.innerHTML = `
    <h2>${name}</h2>
    <div class="total-section">
      <label>ç›®æ¨™ç©åˆ†ï¼š</label>
      <input type="number" id="target${id}" placeholder="è¼¸å…¥ç›®æ¨™ç©åˆ†" />
    </div>

    ${
      equips.length
        ? `<h3>è£å‚™é¸é …ï¼ˆÃ—3å€ç©åˆ†ï¼‰</h3>
        <table>
          <tr><th>è£å‚™</th><th>é¸æ“‡</th><th>ç©åˆ†</th></tr>
          ${[1,2,3,4].map(i => `
            <tr>
              <td>è£å‚™${i}</td>
              <td>
                <select class="equip" data-tab="${id}">
                  <option value="0">è«‹é¸æ“‡è£å‚™</option>
                  ${equips.map(([ename, score]) =>
                    `<option value="${score}">${ename} (${score})</option>`).join('')}
                </select>
              </td>
              <td class="equip-total">0</td>
            </tr>`).join("")}
        </table>`
        : ""
    }

    <h3>é“å…·</h3>
    <table>
      <tr><th>é“å…·åç¨±</th><th>è¨­å®š / æ•¸é‡</th><th>ç©åˆ†</th></tr>
      ${items.map(([iname, score]) => {
        if (score === "promotion") {
          return `
          <tr class="promotion-row">
            <td>${iname}</td>
            <td>
              åˆå§‹ç­‰ç´šï¼š
              <select class="lv-start" data-tab="${id}">
                ${Object.keys(soldierLevels).map(lv => `<option value="${lv}">LV${lv}</option>`).join("")}
              </select>
              â†’ æ™‰å‡å¾Œï¼š
              <select class="lv-end" data-tab="${id}">
                ${Object.keys(soldierLevels).map(lv => `<option value="${lv}">LV${lv}</option>`).join("")}
              </select>
              æ•¸é‡ï¼š
              <input type="number" class="promo-qty" data-tab="${id}" value="0" min="0">
            </td>
            <td class="promo-total">0</td>
          </tr>`;
        } else {
          return `
          <tr>
            <td>${iname}</td>
            <td><input type="number" class="qty" data-tab="${id}" data-score="${score}" value="0" min="0"></td>
            <td class="subtotal">0</td>
          </tr>`;
        }
      }).join("")}
    </table>

    <div class="total-section">
      <label>ç¸½ç©åˆ†ï¼š</label><span id="total${id}">0</span><br/>
      <label>å·®é¡ç©åˆ†ï¼š</label><span id="diff${id}">0</span><br/>
      <button class="btn-reset" onclick="resetTab(${id})">å…¨éƒ¨é‡ç½®</button>
    </div>
  `;
  tabContainer.appendChild(div);
});

// === åˆ†é åˆ‡æ› ===
function switchTab(n) {
  document.querySelectorAll(".tabs button").forEach((btn, i) => {
    btn.classList.toggle("active", i === n - 1);
  });
  document.querySelectorAll(".tab-content").forEach((div, i) => {
    div.classList.toggle("active", i === n - 1);
  });
}

// === è¨ˆç®—é‚è¼¯ ===
document.addEventListener("input", (e) => {
  const tab = e.target.closest(".tab-content");
  if (!tab) return;
  const tabId = tab.id.replace("tab", "");
  updateTab(tabId);
});

function updateTab(tabId) {
  let total = 0;

  // è£å‚™ç©åˆ†
  document.querySelectorAll(`#tab${tabId} .equip`).forEach(sel => {
    const val = Number(sel.value);
    const subtotal = val * 3;
    sel.closest("tr").querySelector(".equip-total").textContent = subtotal;
    total += subtotal;
  });

  // ä¸€èˆ¬é“å…·ç©åˆ†
  document.querySelectorAll(`#tab${tabId} .qty`).forEach(input => {
    const qty = Number(input.value) || 0;
    const score = Number(input.dataset.score);
    const subtotal = qty * score;
    input.closest("tr").querySelector(".subtotal").textContent = subtotal;
    total += subtotal;
  });

  // ç‰¹æ®Šæ™‰å‡é …ç›®
  document.querySelectorAll(`#tab${tabId} .promotion-row`).forEach(row => {
    const lvStart = Number(row.querySelector(".lv-start").value);
    const lvEnd = Number(row.querySelector(".lv-end").value);
    const qty = Number(row.querySelector(".promo-qty").value) || 0;
    const diff = Math.max((soldierLevels[lvEnd] || 0) - (soldierLevels[lvStart] || 0), 0);
    const subtotal = diff * qty;
    row.querySelector(".promo-total").textContent = subtotal;
    total += subtotal;
  });

  // ç¸½ç©åˆ†æ›´æ–°
  document.getElementById(`total${tabId}`).textContent = total;

  const target = Number(document.getElementById(`target${tabId}`).value) || 0;
  document.getElementById(`diff${tabId}`).textContent = Math.max(target - total, 0);
}

// === é‡ç½®åŠŸèƒ½ ===
function resetTab(id) {
  document.querySelectorAll(`#tab${id} input[type=number]`).forEach(input => input.value = 0);
  document.querySelectorAll(`#tab${id} .subtotal, #tab${id} .equip-total, #tab${id} .promo-total`).forEach(td => td.textContent = 0);
  document.querySelectorAll(`#tab${id} .equip`).forEach(sel => sel.value = 0);
  document.getElementById(`target${id}`).value = "";
  document.getElementById(`total${id}`).textContent = "0";
  document.getElementById(`diff${id}`).textContent = "0";
}
</script>
